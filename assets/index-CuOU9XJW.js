import{r as e,u as t,a as r,b as n,j as o,c as s,H as a,O as i,C as l,E as c,R as d,d as p}from"./r3f-DYn76HcB.js";import{aa as u,ab as m,h,K as f,aT as g,aU as x,e as j,ak as y,g as b}from"./three-DT-gpZR4.js";function v({position:s,scale:a,rotationSpeed:i,floatSpeed:l}){const c=e.useRef(null),{scene:d}=t("models/cloud.gltf"),{camera:p}=r();return e.useEffect(()=>{c.current&&c.current.traverse(e=>{if(e.isMesh&&e.material){const t=e;if(Array.isArray(t.material))t.material=t.material.map(e=>{const t=e.clone();return(t instanceof u||t instanceof m)&&(t.color.setRGB(1,.7,.85),t.transparent=!0,t.opacity=.8),t});else{const e=t.material.clone();(e instanceof u||e instanceof m)&&(e.color.setRGB(1,.7,.85),e.transparent=!0,e.opacity=.8),t.material=e}}})},[]),n(e=>{if(c.current){c.current.position.y=s[1]+2*Math.sin(e.clock.elapsedTime*l),c.current.position.x=s[0]+1*Math.cos(e.clock.elapsedTime*l*.5),c.current.rotation.y+=i,c.current.rotation.z+=.3*i;const t=new h;c.current.getWorldPosition(t);const r=t.clone();r.project(p);r.x<0?c.current.traverse(e=>{if(e.isMesh&&e.material){const t=e;if(Array.isArray(t.material))t.material.forEach(e=>{e instanceof u?(e.opacity=.6,e.roughness=1):e instanceof m&&(e.opacity=.6)});else{const e=t.material;e instanceof u?(e.opacity=.6,e.roughness=1):e instanceof m&&(e.opacity=.6)}}}):c.current.traverse(e=>{if(e.isMesh&&e.material){const t=e;if(Array.isArray(t.material))t.material.forEach(e=>{e instanceof u?(e.opacity=.8,e.roughness=.5):e instanceof m&&(e.opacity=.8)});else{const e=t.material;e instanceof u?(e.opacity=.8,e.roughness=.5):e instanceof m&&(e.opacity=.8)}}})}}),o.jsx("group",{ref:c,position:s,children:o.jsx("primitive",{object:d.clone(),scale:a})})}function M(){const t=e.useMemo(()=>{const e=[];for(let t=0;t<30;t++)e.push({position:[1e3*(Math.random()-.5)-50,-50*Math.random()-100,1e3*(Math.random()-.5)-50],scale:5+10*Math.random(),rotationSpeed:.005*(Math.random()-.5),floatSpeed:.3+.7*Math.random(),opacity:.3+.4*Math.random()});return e},[]);return o.jsx("group",{children:t.map((e,t)=>o.jsx(v,{position:e.position,scale:e.scale,rotationSpeed:e.rotationSpeed,floatSpeed:e.floatSpeed,opacity:e.opacity},t))})}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const _="_overlay_1vrbj_1",k="_container_1vrbj_14",S="_dots_1vrbj_21",N="_dot_1vrbj_21",E="_progress_1vrbj_47",P="_visible_1vrbj_54",w="_hidden_1vrbj_59";function A(){const{active:t,progress:r}=s(),[n,a]=e.useState(!0),[i,l]=e.useState(!0);return e.useEffect(()=>{if(!t&&r>=100){l(!1);const e=setTimeout(()=>a(!1),400);return()=>clearTimeout(e)}},[t,r]),e.useEffect(()=>{(t||r<100)&&(a(!0),l(!0))},[t,r]),n?o.jsx("div",{role:"status","aria-live":"polite",className:`${_} ${i?P:w}`,children:o.jsxs("div",{className:k,children:[o.jsxs("div",{className:S,children:[o.jsx("span",{className:N}),o.jsx("span",{className:N}),o.jsx("span",{className:N})]}),o.jsxs("div",{className:E,children:[Math.round(r),"%"]})]})}):null}const C=()=>{const[t,r]=e.useState(!1);return e.useEffect(()=>{const e=()=>{r(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),{isMobile:t}};function R({point:t,isActive:s,onClick:i}){const l=e.useRef(null),{camera:c}=r(),[d,p]=e.useState(!1),u=e.useRef(null),{isMobile:m}=C(),j=((e,t)=>t&&e.mobilePosition?e.mobilePosition:e.position)(t,m),y=e.useMemo(()=>{const e=(new f).load("point.png");e.premultiplyAlpha=!0;const t=new g({map:e,transparent:!0,alphaTest:.1,color:16761035,depthTest:!0,depthWrite:!1}),r=new x(t);return r.scale.setScalar(2),r.position.set(0,.8,0),r},[]);n(e=>{if(l.current&&y){const t=j[1],r=.3,n=s?2:1.5;l.current.position.y=t+Math.sin(e.clock.elapsedTime*n)*r,l.current.rotation.y+=.005;const o=s?1.3:1,a=d?1.4*o:o,i=l.current.scale.x,p=i+.05*(a-i);l.current.scale.setScalar(p),y.scale.set(3*p,2*p,1);const u=new h;l.current.getWorldPosition(u);const m=c.position.distanceTo(u),f=60,g=120;let x=1;if(m>f){const e=Math.min((m-f)/(g-f),1);x=Math.max(1-.7*e,.3)}y.material.opacity=x}});const b=()=>{null!==u.current&&(window.clearTimeout(u.current),u.current=null),p(!0),document.body.style.cursor="pointer"},v=()=>{null!==u.current&&(window.clearTimeout(u.current),u.current=null),u.current=window.setTimeout(()=>{p(!1),document.body.style.cursor="default",u.current=null},80)};return o.jsxs("group",{ref:l,position:j,onClick:e=>{e.stopPropagation(),i()},onPointerOver:b,onPointerOut:v,children:[o.jsxs("mesh",{onPointerOver:b,onPointerOut:v,children:[o.jsx("sphereGeometry",{args:[1.25,16,16]}),o.jsx("meshBasicMaterial",{transparent:!0,opacity:0,depthWrite:!1})]}),o.jsx("primitive",{object:y}),o.jsxs("mesh",{position:[0,-.5,0],rotation:[-Math.PI/2,0,0],children:[o.jsx("ringGeometry",{args:[.5,.8,16]}),o.jsx("meshBasicMaterial",{color:t.color,transparent:!0,opacity:s||d?.6:.3,depthWrite:!1})]}),d&&o.jsx(a,{position:[0,4,0],center:!0,style:{pointerEvents:"none",userSelect:"none"},children:o.jsx("div",{className:"location-tooltip",children:o.jsx("div",{className:"tooltip-neon-text",children:Array.from(t.title).map((e,t)=>o.jsx("span",{className:"tooltip-neon-char",style:{"--d":"0s"},children:" "===e?"Â ":e},t))})})}),s&&o.jsx("pointLight",{position:[0,2,0],intensity:1.5,color:t.color,distance:8})]})}const I=[{id:"about",title:"About me",description:"Frontend dev 2+ years of experience",position:[20,12,1],mobilePosition:[0,-5,1],cameraPosition:[30,20,30],color:"#8ba5ff"},{id:"skills",title:"Skills",description:"React, Node.js, TypeScript, Three.js",position:[11,10,0],mobilePosition:[-7,-7,0],cameraPosition:[-30,20,30],color:"#b8c5ff"},{id:"projects",title:"Projects",description:"My pet projects",position:[20,10,-8],mobilePosition:[0,-7,-6],cameraPosition:[30,20,-30],color:"#e6b3ff"},{id:"certificates",title:"Studies",description:"Proof of qualifications",position:[15,9,-5],mobilePosition:[-5,-8,-5],cameraPosition:[-30,20,-30],color:"#f9ca24"},{id:"contact",title:"Contacts",description:"Contact me",position:[10,7,-8],mobilePosition:[-7,-8,-8],cameraPosition:[0,25,25],color:"#ffc0cb"}];function T({onIntroComplete:t,onOrbitControlsReady:s}){const{camera:a}=r(),[l,c]=e.useState(!1),[d,p]=e.useState(!1),[u,m]=e.useState("intro"),f=e.useRef(null),g=e.useRef(null),x=e.useRef(null),j=4e3,y=new h(500,200,500),b=new h(40,25,40);return e.useEffect(()=>{a.position.copy(y),a.lookAt(20,0,0),f.current=Date.now()},[]),e.useEffect(()=>{t&&t(l)},[l,t]),e.useEffect(()=>{s&&s(d)},[d,s]),n((e,t)=>{if(!f.current)return;const r=Date.now()-f.current;if("intro"===u&&r<j){const e=r/j,t=e<.5?2*e*e:1-Math.pow(-2*e+2,3)/2,n=y.clone().lerp(b,t);return a.position.copy(n),void a.lookAt(0,0,0)}if("intro"===u&&r>=j)return m("settling"),g.current=Date.now(),void c(!0);if("settling"===u&&g.current){if(Date.now()-g.current<1e3){const e=new h(40,25,40);return a.position.lerp(e,2*t),void a.lookAt(0,0,0)}return m("controls"),p(!0),void(x.current&&(x.current.object.position.set(40,25,40),x.current.target.set(0,0,0),x.current.update()))}}),o.jsx(o.Fragment,{children:d&&o.jsx(i,{ref:x,target:[0,0,0],minDistance:50,maxDistance:120,minPolarAngle:.1*Math.PI,maxPolarAngle:.4*Math.PI,minAzimuthAngle:.25*-Math.PI,maxAzimuthAngle:.25*Math.PI,enablePan:!1,enableZoom:!0,enableDamping:!0,enableRotate:!0,dampingFactor:.1,rotateSpeed:-.5,zoomSpeed:.3,enabled:"controls"===u})})}function D({onIntroComplete:t,onOrbitControlsReady:s,isMobile:a=!1}){const{camera:l}=r(),[c,d]=e.useState(!1),[p,u]=e.useState(!1),[m,f]=e.useState("intro"),g=e.useRef(null),x=e.useRef(null),j=e.useRef(null),y=a?2500:4e3,b=a?500:1e3,v=a?new h(40,30,40):new h(500,200,500),M=a?new h(25,20,25):new h(40,25,40),_=[0,0,0];return e.useEffect(()=>{l.position.copy(v),l.lookAt(..._),g.current=Date.now()},[]),e.useEffect(()=>{t&&t(c)},[c,t]),e.useEffect(()=>{s&&s(p)},[p,s]),n((e,t)=>{if(!g.current)return;const r=Date.now()-g.current;if("intro"===m&&r<y){const e=r/y,t=e<.5?2*e*e:1-Math.pow(-2*e+2,3)/2,n=v.clone().lerp(M,t);return l.position.copy(n),void l.lookAt(..._)}if("intro"===m&&r>=y)return f("settling"),x.current=Date.now(),void d(!0);if("settling"===m&&x.current){return Date.now()-x.current<b?(l.position.lerp(M,2*t),void l.lookAt(..._)):(f("controls"),u(!0),void(j.current&&(j.current.object.position.copy(M),j.current.target.set(..._),j.current.update())))}}),o.jsx(o.Fragment,{children:p&&o.jsx(i,{ref:j,target:_,minDistance:a?15:50,maxDistance:a?60:120,minPolarAngle:a?.05*Math.PI:.1*Math.PI,maxPolarAngle:a?.6*Math.PI:.4*Math.PI,minAzimuthAngle:a?-1/0:.25*-Math.PI,maxAzimuthAngle:a?1/0:.25*Math.PI,enablePan:!1,enableZoom:!0,enableRotate:!0,enableDamping:!0,dampingFactor:a?.08:.1,rotateSpeed:a?.8:-.5,zoomSpeed:a?.5:.3,enabled:"controls"===m})})}function z(e){const{isMobile:t}=C();return t?o.jsx(D,{...e,isMobile:!0}):o.jsx(T,{...e})}function L({startX:r,endX:s,y:a,z:i,speed:l,scale:c,rotationY:d}){const p=e.useRef(null),u=e.useRef(0),{scene:m}=t("models/plane.gltf"),h=e.useRef(null),f=e.useRef(!1);return n((e,t)=>{if(!p.current)return;if(!f.current){const e=new j("#ff6ea8");p.current.traverse(t=>{if(t.isMesh){const r=t;(Array.isArray(r.material)?r.material:[r.material]).forEach(t=>{const r=t;r&&r.color&&(r.color=r.color.clone().lerp(e,.25),"emissive"in r&&(r.emissive.lerp(e,.3),r.emissiveIntensity=.1))})}}),f.current=!0}u.current+=t*l;const n=s-r,o=r+u.current,m=.3*Math.sin(2*e.clock.elapsedTime+.1*u.current);p.current.position.set(o,a+m,i),p.current.rotation.set(.01*Math.sin(1.5*e.clock.elapsedTime+.05*u.current),d,.02*Math.sin(.8*e.clock.elapsedTime+.08*u.current)),p.current.scale.setScalar(c);const h=.8*n;if(u.current>h){const e=(u.current-h)/(n-h),t=Math.max(0,1-e);p.current.traverse(e=>{if(e.isMesh&&e.material){const r=e;Array.isArray(r.material)?r.material.forEach(e=>{e.transparent=!0,e.opacity=t}):(r.material.transparent=!0,r.material.opacity=t)}});const r=.5+.5*t;p.current.scale.setScalar(c*r)}u.current>=n&&(p.current.visible=!1)}),o.jsxs("group",{ref:p,children:[o.jsxs("mesh",{position:[0,-.2,-1],renderOrder:-1,children:[o.jsx("circleGeometry",{args:[1.6,32]}),o.jsx("meshBasicMaterial",{ref:h,color:"#ff6ea8",transparent:!0,opacity:.22,depthWrite:!1})]}),o.jsx("pointLight",{color:16740008,intensity:1.2,distance:50,decay:2,position:[.8,.3,-.8]}),o.jsx("primitive",{object:m.clone()})]})}function O(){const t=e.useMemo(()=>[{startX:-250,endX:500,y:15,z:-25,speed:20,scale:1.5,rotationY:Math.PI}],[]);return o.jsx("group",{children:t.map((e,t)=>o.jsx(L,{startX:e.startX,endX:e.endX,y:e.y,z:e.z,speed:e.speed,scale:e.scale,rotationY:e.rotationY},t))})}function F(){const e=Object.assign({"/src/assets/jelly-elements/glossy-bird.png":"/planet-portfolio/assets/glossy-bird-zdrmEj31.png","/src/assets/jelly-elements/glossy-bunny.png":"/planet-portfolio/assets/glossy-bunny-pNFrX6PO.png","/src/assets/jelly-elements/glossy-butterfly.png":"/planet-portfolio/assets/glossy-butterfly-txdBhxmm.png","/src/assets/jelly-elements/glossy-flower.png":"/planet-portfolio/assets/glossy-flower-bC5caxA0.png","/src/assets/jelly-elements/glossy-horse.png":"/planet-portfolio/assets/glossy-horse-DPEb8tIJ.png","/src/assets/jelly-elements/glossy-palm.png":"/planet-portfolio/assets/glossy-palm-CN7gA0Wr.png","/src/assets/jelly-elements/teddy-bear.png":"/planet-portfolio/assets/teddy-bear-DEIv_0Pi.png"});return Object.values(e)}const $={};function B({showModal:t,selectedPoint:r,onClose:n}){const[s,a]=e.useState(!1),[i,l]=e.useState(!1),[c,d]=e.useState({}),p=F(),u=e.useMemo(()=>p,[p.length]),m=e.useMemo(()=>r?function(e,t=2){return[...e].sort(()=>.5-Math.random()).slice(0,t)}(u,2):[],[r?.id,u]);if(e.useEffect(()=>{t&&m.length>0&&m.forEach(e=>{(new Image).src=e})},[t,m]),e.useEffect(()=>{t&&d({})},[r?.id]),!t||!r)return null;const h=$[r.id];return o.jsx("div",{className:"modal-overlay",onClick:n,style:{"--color-40":`${r.color}40`,"--color-20":`${r.color}20`,"--color-00":`${r.color}00`},children:o.jsxs("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[m.map((e,t)=>o.jsx("div",{className:"modal-jelly-decoration modal-jelly-"+(0===t?"left":"right"),style:{opacity:c[e]?1:0},children:o.jsx("img",{src:e,alt:"decoration",className:"modal-jelly-image",onError:e=>{const t=e.target.parentElement;t&&(t.style.display="none")},onLoad:()=>{d(t=>({...t,[e]:!0}))}})},`${r.id}-jelly-${t}`)),h&&!i?o.jsxs("div",{className:"modal__header-image",children:[o.jsx("img",{src:h,alt:r.title,className:"modal__title-image",onLoad:()=>{a(!0),l(!1)},onError:()=>{l(!0),a(!1)},style:{width:"280px",height:"auto",maxWidth:"90%",objectFit:"contain",marginBottom:"20px",filter:`drop-shadow(2px 2px 8px ${r.color}40)`,display:s?"block":"none"}}),!s&&!i&&o.jsx("div",{style:{width:"280px",height:"80px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f0f0f0",borderRadius:"10px",marginBottom:"20px",color:"#666"},children:"Loading..."})]}):o.jsx("div",{className:"modal__neon-title",children:o.jsx("div",{className:"neon-line neon-once",children:Array.from(r.title).map((e,t)=>o.jsx("span",{className:"neon-char neon-once",style:{"--d":.06*t+"s",fontWeight:800},children:" "===e?"Â ":e},t))})}),o.jsxs("div",{className:"modal__details",children:["about"===r.id&&o.jsxs("div",{children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Experience:"})," 2+ years"]}),o.jsx("p",{children:" â€” "}),o.jsxs("p",{children:[o.jsx("strong",{children:"Specialization:"})," Frontend and creative dev"]}),o.jsx("p",{children:" â€” "}),o.jsx("p",{children:"I'm interested in creative systems building/mastering a 2D/3D engine. My passion is good design and high functionality of the surrounding space."})]}),"skills"===r.id&&o.jsxs("div",{children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Frontend:"})," React, TypeScript, MobX, Jenkins, Storybook, Three.js, Phazer"]}),o.jsx("p",{children:" â€” "}),o.jsxs("p",{children:[o.jsx("strong",{children:"Backend:"})," Node.js, PostgreSQL"]})]}),"projects"===r.id&&o.jsx("div",{className:"projects-section",children:o.jsxs("div",{className:"projects-grid",children:[o.jsx("a",{href:"https://tmaltseva.github.io/progress-component/",target:"_blank",rel:"noopener noreferrer",className:"project-link",children:"Progress Component"}),o.jsx("a",{href:"https://tmaltseva.github.io/rick-and-morty-app/",target:"_blank",rel:"noopener noreferrer",className:"project-link",children:"Rick and Morty app"}),o.jsx("a",{href:"https://tmaltseva.github.io/routing-table/",target:"_blank",rel:"noopener noreferrer",className:"project-link",children:"Routing Table Manager"}),o.jsx("a",{href:"https://tmaltseva.github.io/breathing-meditation-3d/",target:"_blank",rel:"noopener noreferrer",className:"project-link",children:"Meditation Breathing"}),o.jsx("a",{href:"https://tmaltseva.github.io/todo-app/",target:"_blank",rel:"noopener noreferrer",className:"project-link",children:"ToDo App"}),o.jsx("a",{href:"https://rolling-scopes-school.github.io/tmaltseva-JSFE2024Q4/news-api/",target:"_blank",rel:"noopener noreferrer",className:"project-link",children:"News API"}),o.jsx("a",{href:"https://rolling-scopes-school.github.io/tmaltseva-JSFE2024Q4/decision-making-tool/",target:"_blank",rel:"noopener noreferrer",className:"project-link",children:"Decision Making Tool"}),o.jsx("a",{href:"https://rolling-scopes-school.github.io/tmaltseva-JSFE2024Q4/fun-chat/",target:"_blank",rel:"noopener noreferrer",className:"project-link",children:"Fun Chat"}),o.jsx("a",{href:"https://rolling-scopes-school.github.io/tmaltseva-JSFE2024Q4/simon-says/",target:"_blank",rel:"noopener noreferrer",className:"project-link",children:"Simon-says"}),o.jsx("a",{href:"https://rolling-scopes-school.github.io/tmaltseva-JSFE2024Q4/nonograms/",target:"_blank",rel:"noopener noreferrer",className:"project-link",children:"Nonograms"})]})}),"certificates"===r.id&&o.jsx("div",{className:"certificates-section",children:o.jsxs("div",{className:"certificates-grid",children:[o.jsx("a",{href:"https://app.rs.school/certificate/lgyer7oe",target:"_blank",rel:"noopener noreferrer",className:"contact-link",children:"JS/FE PRE-SCHOOL"}),o.jsx("a",{href:"https://app.rs.school/certificate/5e6oztda",target:"_blank",rel:"noopener noreferrer",className:"contact-link",children:"JAVASCRIPT/FRONT-END"})]})}),"contact"===r.id&&o.jsxs("div",{children:[o.jsx("p",{children:o.jsx("a",{href:"mailto:bacardeonie@gmail.com",className:"contact-link",children:o.jsx("strong",{children:"My email"})})}),o.jsx("p",{children:" â€” "}),o.jsx("p",{children:o.jsx("a",{href:"https://github.com/TMaltseva",target:"_blank",rel:"noopener noreferrer",className:"contact-link",children:o.jsx("strong",{children:"My GitHub"})})}),o.jsx("p",{children:" â€” "}),o.jsx("p",{children:o.jsx("a",{href:"https://linkedin.com/in/tamara-maltseva-364292179",target:"_blank",rel:"noopener noreferrer",className:"contact-link",children:o.jsx("strong",{children:"My LinkedIn"})})})]})]}),o.jsx("button",{className:"modal__button",onClick:n,children:"Continue"})]})})}function X(){const t=e.useRef(null),r=e.useRef(new f),s=F(),a=e.useMemo(()=>s.map((e,t)=>{const r=12345*t;return{textureUrl:e,baseScale:y.lerp(6,12,(Math.sin(r)+1)/2),speed:0,x:y.lerp(-400,350,(Math.sin(1.1*r)+1)/2),y:y.lerp(-10,35,(Math.sin(1.3*r)+1)/2),z:y.lerp(-200,-80,(Math.sin(1.7*r)+1)/2),phase:(Math.sin(2.1*r)+1)/2*Math.PI*2,opacity:y.lerp(.9,1,(Math.sin(3.3*r)+1)/2)}}),[s.length]),i=e.useMemo(()=>a.map(e=>{const t=r.current.load(e.textureUrl);t.premultiplyAlpha=!0;const n=new g({map:t,depthWrite:!1,transparent:!0,opacity:e.opacity}),o=new x(n);return o.scale.setScalar(e.baseScale),o.position.set(e.x,e.y,e.z),o.userData={baseX:e.x,baseY:e.y,baseZ:e.z,baseScale:e.baseScale,phase:e.phase},o}),[a]);return e.useEffect(()=>{const e=t.current;if(e)return i.forEach(t=>e.add(t)),()=>{i.forEach(t=>e.remove(t))}},[i]),n(e=>{i.forEach(t=>{const r=t.userData,n=e.clock.elapsedTime+r.phase,o=1+.1*Math.sin(1.5*n);t.scale.setScalar(r.baseScale*o);const s=.5*Math.sin(.8*n),a=.3*Math.cos(1.2*n),i=.2*Math.sin(.5*n);t.position.set(r.baseX+s,r.baseY+a,r.baseZ+i),t.material.rotation=.1*Math.sin(.3*n)})}),o.jsx("group",{ref:t})}function W({isMobile:r=!1}){const{scene:n}=t("models/scene.gltf"),s=e.useRef(null),a=r?[0,-10,0]:[20,5,0],i=r?.007:.01;return e.useEffect(()=>{s.current&&s.current.traverse(e=>{if(e.isMesh&&e.material){const t=e;if(Array.isArray(t.material))t.material=t.material.map(e=>{const t=e.clone();return t instanceof u?(t.color.multiplyScalar(1.5),t.color.setRGB(Math.min(1.1*t.color.r+.3,1),Math.min(.9*t.color.g+.2,1),Math.min(.8*t.color.b+.4,1)),t.roughness=.7,t.metalness=.1):t instanceof m&&t.color.setRGB(Math.min(1.1*t.color.r+.3,1),Math.min(.9*t.color.g+.2,1),Math.min(.8*t.color.b+.4,1)),t});else{const e=t.material.clone();e instanceof u?(e.color.multiplyScalar(1.2),e.color.setRGB(Math.min(1.1*e.color.r+.3,1),Math.min(.9*e.color.g+.2,1),Math.min(.8*e.color.b+.4,1)),e.roughness=.7,e.metalness=.1):e instanceof m&&e.color.setRGB(Math.min(1.1*e.color.r+.3,1),Math.min(.9*e.color.g+.2,1),Math.min(.8*e.color.b+.4,1)),t.material=e}}})},[n]),o.jsx("group",{ref:s,children:o.jsx("primitive",{object:n,scale:i,position:a})})}function G({children:t,isMobile:s=!1}){const a=e.useRef(null),{gl:i}=r(),l=s?{x:0,z:0}:{x:20,z:0},[c,d]=e.useState(!1),[p,u]=e.useState(new b),[m,h]=e.useState(0),f=e=>{"CANVAS"===e.target.tagName&&(d(!0),u(new b(e.clientX,e.clientY)),h(0),i.domElement.style.cursor="grabbing")},g=e=>{if(!c||!a.current)return;const t=new b(e.clientX,e.clientY),r=t.x-p.x,n=s?5e-4:3e-4;a.current.rotation.y+=r*n,h(r*n*.02),u(t)},x=()=>{d(!1),i.domElement.style.cursor=s?"default":"grab"},j=()=>{c||s||(i.domElement.style.cursor="grab")},y=()=>{d(!1),i.domElement.style.cursor="default"};return n(()=>{a.current&&(c||(!s&&Math.abs(m)<.001?a.current.rotation.y+=8e-4:(a.current.rotation.y+=m,h(e=>.95*e))))}),e.useEffect(()=>{const e=i.domElement;return e.addEventListener("pointerdown",f),e.addEventListener("pointermove",g),e.addEventListener("pointerup",x),s||(e.addEventListener("pointerenter",j),e.addEventListener("pointerleave",y)),()=>{e.removeEventListener("pointerdown",f),e.removeEventListener("pointermove",g),e.removeEventListener("pointerup",x),s||(e.removeEventListener("pointerenter",j),e.removeEventListener("pointerleave",y))}},[c,s]),o.jsx("group",{ref:a,position:[l.x,0,l.z],children:o.jsx("group",{position:[-l.x,0,-0],children:t})})}function J({text:e,className:t,weight:r=800,letterSpacingPx:n=1,delayOffsetSec:s=0}){const a=Array.from(e);return o.jsx("div",{className:"neon-line neon-once"+(t?` ${t}`:""),style:{fontWeight:r,letterSpacing:`${n}px`},children:a.map((e,t)=>{const r={"--d":`${s+.06*t}s`};return o.jsx("span",{className:"neon-char neon-once",style:r,children:" "===e?"Â ":e},t)})})}function Y({text:e,className:t,delayOffsetSec:r=0,staggerSec:n=.06}){const s=Array.from(e);return o.jsx("div",{className:"appear-line"+(t?` ${t}`:""),children:s.map((e,t)=>{const s={"--d":`${r+t*n}s`};return o.jsx("span",{className:"appear-char appear-once",style:s,children:" "===e?"Â ":e},`${e}-${t}`)})})}const Q="_header_p1iyr_1",H="_header__panel_p1iyr_22",Z="_header__title_p1iyr_40",K="_header__title--no-margin_p1iyr_52",U="_header__subtitle_p1iyr_61",q="_header__image_p1iyr_68",V="_header__jelly-image_p1iyr_76",ee="_header__text-content_p1iyr_92",te="_frosted-panel_p1iyr_104";function re(){const[t,r]=e.useState(!1),n=()=>{r(!t)};return o.jsx("div",{className:Q,children:o.jsx("div",{className:`${H} ${te}`,children:t?o.jsxs("div",{className:ee,onClick:n,style:{cursor:"pointer"},children:[o.jsx("div",{className:Z,children:o.jsx(J,{text:"Frontend Dev",weight:700,letterSpacingPx:1})}),o.jsx("div",{className:K,children:o.jsx(Y,{text:"& 3D Enthusiast"})}),o.jsx("p",{className:U,children:"Click on the city locations to explore my portfolio"})]}):o.jsx("div",{className:q,children:o.jsx("img",{src:"/planet-portfolio/assets/jelly-header-Xd8T_zK3.png",alt:"Hello, I'm Tommy!",className:V,onClick:n})})})})}function ne(){e.useEffect(()=>{t.preload("models/cloud.gltf"),t.preload("models/plane.gltf"),t.preload("models/scene.gltf")},[]);const{currentPointIndex:r,currentPoint:n,showModal:s,selectedPoint:a,handlePointClick:i,closeModal:d}=(t=>{const[r,n]=e.useState(0),[o,s]=e.useState(!1),[a,i]=e.useState(null);return{currentPointIndex:r,currentPoint:t[r],showModal:o,selectedPoint:a,handleNextPoint:()=>{n(e=>(e+1)%t.length)},handlePointClick:e=>{i(e),s(!0)},closeModal:()=>{s(!1),i(null)},selectPoint:e=>{n(e)}}})(I),[p,u]=e.useState(!1),[m,h]=e.useState(!1),{isMobile:f}=C();return o.jsxs("div",{className:"app-container",children:[o.jsx(A,{}),o.jsxs(l,{camera:{position:[70,40,50],fov:50,near:.1,far:1e3},className:"app-canvas",children:[o.jsx("ambientLight",{intensity:.2}),o.jsx("directionalLight",{position:[50,50,25],intensity:.7,castShadow:!0,"shadow-mapSize-width":2048,"shadow-mapSize-height":2048}),o.jsx("pointLight",{position:[-20,20,20],intensity:.1}),o.jsx(c,{preset:"dawn",environmentIntensity:.8}),o.jsx(e.Suspense,{fallback:null,children:o.jsxs(G,{isMobile:f,children:[o.jsx(M,{}),o.jsx(X,{}),o.jsx(O,{}),o.jsx(W,{isMobile:f}),I.map((e,t)=>o.jsx(R,{point:e,isActive:t===r,onClick:()=>i(e)},e.id))]})}),o.jsx(z,{currentPoint:n,onIntroComplete:u,onOrbitControlsReady:h})]}),m&&!f&&o.jsxs("div",{className:"controls-panel",children:[o.jsx("div",{className:"controls-panel__title",children:"Controls:"}),o.jsx("div",{children:"ðŸ–±ï¸ Drag to rotate scene"}),o.jsx("div",{children:"ðŸ” Scroll to zoom"}),o.jsx("div",{children:"ðŸ‘† Click locations to learn more"})]}),o.jsx(re,{}),o.jsx(B,{showModal:s,selectedPoint:a,onClose:d}),o.jsx("div",{className:"copyright",children:"Â© 2025 All rights reserved"})]})}class oe extends d.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error:",e,t),console.group("Error Details:"),console.log("Error message:",e.message),console.log("Error stack:",e.stack),console.log("Component stack:",t.componentStack),console.groupEnd(),this.setState({error:e,errorInfo:t})}render(){return this.state.hasError?o.jsxs("div",{style:{color:"black",padding:"20px",textAlign:"center",backgroundColor:"#f8f8f8",border:"1px solid #ddd",borderRadius:"8px",margin:"20px"},children:[o.jsx("h2",{children:"Something went wrong"}),o.jsx("p",{children:"The application encountered an error and needs to be refreshed."}),o.jsxs("details",{style:{marginTop:"20px",textAlign:"left"},children:[o.jsx("summary",{children:"Error details (for debugging)"}),o.jsxs("pre",{style:{backgroundColor:"#f0f0f0",padding:"10px",overflow:"auto",fontSize:"12px"},children:[this.state.error?.message,"\n\n",this.state.error?.stack,"\n\n",this.state.errorInfo?.componentStack]})]}),o.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:"20px",padding:"10px 20px",backgroundColor:"#007bff",color:"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Refresh Page"})]}):this.props.children}}p.createRoot(document.getElementById("root")).render(o.jsx(d.StrictMode,{children:o.jsx(oe,{children:o.jsx(ne,{})})}));
