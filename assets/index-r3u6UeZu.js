import{r as e,j as t,u as r,a as n,b as o,c as s,H as a,O as i,C as l,E as c,R as d,d as p}from"./r3f-DYn76HcB.js";import{aa as u,ab as m,h,K as f,aT as g,aU as x,e as j,ak as y,g as b}from"./three-DT-gpZR4.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const v=e.createContext(void 0);function M({children:e,showModal:r}){return t.jsx(v.Provider,{value:{showModal:r},children:e})}function w(){const t=e.useContext(v);if(void 0===t)throw new Error("useModalContext must be used within a ModalProvider");return t}function _({position:s,scale:a,rotationSpeed:i,floatSpeed:l}){const c=e.useRef(null),{scene:d}=r("models/cloud.gltf"),{camera:p}=n(),{showModal:f}=w();return e.useEffect(()=>{c.current&&c.current.traverse(e=>{if(e.isMesh&&e.material){const t=e;if(Array.isArray(t.material))t.material=t.material.map(e=>{const t=e.clone();return(t instanceof u||t instanceof m)&&(t.color.setRGB(1,.7,.85),t.transparent=!0,t.opacity=.8),t});else{const e=t.material.clone();(e instanceof u||e instanceof m)&&(e.color.setRGB(1,.7,.85),e.transparent=!0,e.opacity=.8),t.material=e}}})},[]),o(e=>{if(!f&&c.current){c.current.position.y=s[1]+2*Math.sin(e.clock.elapsedTime*l),c.current.position.x=s[0]+1*Math.cos(e.clock.elapsedTime*l*.5),c.current.rotation.y+=i,c.current.rotation.z+=.3*i;const t=new h;c.current.getWorldPosition(t);const r=t.clone();r.project(p);r.x<0?c.current.traverse(e=>{if(e.isMesh&&e.material){const t=e;if(Array.isArray(t.material))t.material.forEach(e=>{e instanceof u?(e.opacity=.6,e.roughness=1):e instanceof m&&(e.opacity=.6)});else{const e=t.material;e instanceof u?(e.opacity=.6,e.roughness=1):e instanceof m&&(e.opacity=.6)}}}):c.current.traverse(e=>{if(e.isMesh&&e.material){const t=e;if(Array.isArray(t.material))t.material.forEach(e=>{e instanceof u?(e.opacity=.8,e.roughness=.5):e instanceof m&&(e.opacity=.8)});else{const e=t.material;e instanceof u?(e.opacity=.8,e.roughness=.5):e instanceof m&&(e.opacity=.8)}}})}}),t.jsx("group",{ref:c,position:s,children:t.jsx("primitive",{object:d.clone(),scale:a})})}function S(){const r=e.useMemo(()=>{const e=[];for(let t=0;t<30;t++)e.push({position:[1e3*(Math.random()-.5)-50,-50*Math.random()-100,1e3*(Math.random()-.5)-50],scale:5+10*Math.random(),rotationSpeed:.005*(Math.random()-.5),floatSpeed:.3+.7*Math.random(),opacity:.3+.4*Math.random()});return e},[]);return t.jsx("group",{children:r.map((e,r)=>t.jsx(_,{position:e.position,scale:e.scale,rotationSpeed:e.rotationSpeed,floatSpeed:e.floatSpeed,opacity:e.opacity},r))})}const k="_overlay_1vrbj_1",N="_container_1vrbj_14",P="_dots_1vrbj_21",E="_dot_1vrbj_21",A="_progress_1vrbj_47",C="_visible_1vrbj_54",R="_hidden_1vrbj_59";function T(){const{active:r,progress:n}=s(),[o,a]=e.useState(!0),[i,l]=e.useState(!0);return e.useEffect(()=>{if(!r&&n>=100){l(!1);const e=setTimeout(()=>a(!1),400);return()=>clearTimeout(e)}},[r,n]),e.useEffect(()=>{(r||n<100)&&(a(!0),l(!0))},[r,n]),o?t.jsx("div",{role:"status","aria-live":"polite",className:`${k} ${i?C:R}`,children:t.jsxs("div",{className:N,children:[t.jsxs("div",{className:P,children:[t.jsx("span",{className:E}),t.jsx("span",{className:E}),t.jsx("span",{className:E})]}),t.jsxs("div",{className:A,children:[Math.round(n),"%"]})]})}):null}const I=()=>{const[t,r]=e.useState(!1);return e.useEffect(()=>{const e=()=>{r(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),{isMobile:t}};function D({point:r,isActive:s,onClick:i}){const l=e.useRef(null),{camera:c}=n(),[d,p]=e.useState(!1),[u,m]=e.useState(!1),j=e.useRef(null),y=e.useRef(null),{isMobile:b}=I(),{showModal:v}=w(),M=((e,t)=>t&&e.mobilePosition?e.mobilePosition:e.position)(r,b),_=e.useMemo(()=>{const e=(new f).load("point.png");e.premultiplyAlpha=!0;const t=new g({map:e,transparent:!0,alphaTest:.1,color:16761035,depthTest:!0,depthWrite:!1}),r=new x(t);return r.scale.setScalar(2),r.position.set(0,.8,0),r},[]);o(e=>{if(!v&&l.current&&_){const t=M[1],r=.3,n=s?2:1.5;l.current.position.y=t+Math.sin(e.clock.elapsedTime*n)*r,l.current.rotation.y+=.005;const o=s?1.3:1,a=d?1.4*o:o,i=l.current.scale.x,p=i+.05*(a-i);l.current.scale.setScalar(p),_.scale.set(3*p,2*p,1);const u=new h;l.current.getWorldPosition(u);const m=c.position.distanceTo(u),f=60,g=120;let x=1;if(m>f){const e=Math.min((m-f)/(g-f),1);x=Math.max(1-.7*e,.3)}_.material.opacity=x}});const S=()=>{null!==j.current&&(window.clearTimeout(j.current),j.current=null),p(!0),document.body.style.cursor="pointer"},k=()=>{null!==j.current&&(window.clearTimeout(j.current),j.current=null),j.current=window.setTimeout(()=>{p(!1),document.body.style.cursor="default",j.current=null},80)},N=e=>{b&&(e.stopPropagation(),null!==j.current&&(window.clearTimeout(j.current),j.current=null),null!==y.current&&(window.clearTimeout(y.current),y.current=null),m(!0),y.current=window.setTimeout(()=>{m(!1),y.current=null},3e3))};e.useEffect(()=>()=>{null!==j.current&&window.clearTimeout(j.current),null!==y.current&&window.clearTimeout(y.current)},[]);const P=(d||b&&u)&&!v;return t.jsxs("group",{ref:l,position:M,onClick:e=>{e.stopPropagation(),i()},onPointerOver:S,onPointerOut:k,onPointerDown:N,children:[t.jsxs("mesh",{onPointerOver:S,onPointerOut:k,onPointerDown:N,children:[t.jsx("sphereGeometry",{args:[1.25,16,16]}),t.jsx("meshBasicMaterial",{transparent:!0,opacity:0,depthWrite:!1})]}),t.jsx("primitive",{object:_}),t.jsxs("mesh",{position:[0,-.5,0],rotation:[-Math.PI/2,0,0],children:[t.jsx("ringGeometry",{args:[.5,.8,16]}),t.jsx("meshBasicMaterial",{color:r.color,transparent:!0,opacity:s||d?.6:.3,depthWrite:!1})]}),P&&t.jsx(a,{position:[0,4,0],center:!0,style:{pointerEvents:"none",userSelect:"none"},children:t.jsx("div",{className:"location-tooltip",children:t.jsx("div",{className:"tooltip-neon-text",children:Array.from(r.title).map((e,r)=>t.jsx("span",{className:"tooltip-neon-char",style:{"--d":"0s"},children:" "===e?"Â ":e},r))})})}),s&&t.jsx("pointLight",{position:[0,2,0],intensity:1.5,color:r.color,distance:8})]})}const z=[{id:"about",title:"About me",description:"Frontend dev 2+ years of experience",position:[20,12,1],mobilePosition:[0,0,1],cameraPosition:[30,20,30],color:"#8ba5ff"},{id:"skills",title:"Skills",description:"React, Node.js, TypeScript, Three.js",position:[11,10,0],mobilePosition:[-7,-2,0],cameraPosition:[-30,20,30],color:"#b8c5ff"},{id:"projects",title:"Projects",description:"My pet projects",position:[20,10,-8],mobilePosition:[0,-2,-6],cameraPosition:[30,20,-30],color:"#e6b3ff"},{id:"certificates",title:"Studies",description:"Proof of qualifications",position:[15,9,-5],mobilePosition:[-5,-3,-5],cameraPosition:[-30,20,-30],color:"#f9ca24"},{id:"contact",title:"Contacts",description:"Contact me",position:[10,7,-8],mobilePosition:[-7,-3,-8],cameraPosition:[0,25,25],color:"#ffc0cb"}];function L({onIntroComplete:r,onOrbitControlsReady:s}){const{camera:a}=n(),[l,c]=e.useState(!1),[d,p]=e.useState(!1),[u,m]=e.useState("intro"),f=e.useRef(null),g=e.useRef(null),x=e.useRef(null),j=4e3,y=new h(500,200,500),b=new h(40,25,40);return e.useEffect(()=>{a.position.copy(y),a.lookAt(20,0,0),f.current=Date.now()},[]),e.useEffect(()=>{r&&r(l)},[l,r]),e.useEffect(()=>{s&&s(d)},[d,s]),o((e,t)=>{if(!f.current)return;const r=Date.now()-f.current;if("intro"===u&&r<j){const e=r/j,t=e<.5?2*e*e:1-Math.pow(-2*e+2,3)/2,n=y.clone().lerp(b,t);return a.position.copy(n),void a.lookAt(0,0,0)}if("intro"===u&&r>=j)return m("settling"),g.current=Date.now(),void c(!0);if("settling"===u&&g.current){if(Date.now()-g.current<1e3){const e=new h(40,25,40);return a.position.lerp(e,2*t),void a.lookAt(0,0,0)}return m("controls"),p(!0),void(x.current&&(x.current.object.position.set(40,25,40),x.current.target.set(0,0,0),x.current.update()))}}),t.jsx(t.Fragment,{children:d&&t.jsx(i,{ref:x,target:[0,0,0],minDistance:50,maxDistance:120,minPolarAngle:.1*Math.PI,maxPolarAngle:.4*Math.PI,minAzimuthAngle:.25*-Math.PI,maxAzimuthAngle:.25*Math.PI,enablePan:!1,enableZoom:!0,enableDamping:!0,enableRotate:!0,dampingFactor:.1,rotateSpeed:-.5,zoomSpeed:.3,enabled:"controls"===u})})}function B({onIntroComplete:r,onOrbitControlsReady:s,isMobile:a=!1}){const{camera:l}=n(),[c,d]=e.useState(!1),[p,u]=e.useState(!1),[m,f]=e.useState("intro"),g=e.useRef(null),x=e.useRef(null),j=e.useRef(null),y=a?2500:4e3,b=a?500:1e3,v=a?new h(40,30,40):new h(500,200,500),M=a?new h(25,20,25):new h(40,25,40),w=[0,0,0];return e.useEffect(()=>{l.position.copy(v),l.lookAt(...w),g.current=Date.now()},[]),e.useEffect(()=>{r&&r(c)},[c,r]),e.useEffect(()=>{s&&s(p)},[p,s]),o((e,t)=>{if(!g.current)return;const r=Date.now()-g.current;if("intro"===m&&r<y){const e=r/y,t=e<.5?2*e*e:1-Math.pow(-2*e+2,3)/2,n=v.clone().lerp(M,t);return l.position.copy(n),void l.lookAt(...w)}if("intro"===m&&r>=y)return f("settling"),x.current=Date.now(),void d(!0);if("settling"===m&&x.current){return Date.now()-x.current<b?(l.position.lerp(M,2*t),void l.lookAt(...w)):(f("controls"),u(!0),void(j.current&&(j.current.object.position.copy(M),j.current.target.set(...w),j.current.update())))}}),t.jsx(t.Fragment,{children:p&&t.jsx(i,{ref:j,target:w,minDistance:a?15:50,maxDistance:a?60:120,minPolarAngle:a?.05*Math.PI:.1*Math.PI,maxPolarAngle:a?.6*Math.PI:.4*Math.PI,minAzimuthAngle:a?-1/0:.25*-Math.PI,maxAzimuthAngle:a?1/0:.25*Math.PI,enablePan:!1,enableZoom:!0,enableRotate:!0,enableDamping:!0,dampingFactor:a?.08:.1,rotateSpeed:a?.8:-.5,zoomSpeed:a?.5:.3,enabled:"controls"===m})})}function F(e){const{isMobile:r}=I();return r?t.jsx(B,{...e,isMobile:!0}):t.jsx(L,{...e})}function O({startX:n,endX:s,y:a,z:i,speed:l,scale:c,rotationY:d}){const p=e.useRef(null),u=e.useRef(0),{scene:m}=r("models/plane.gltf"),h=e.useRef(null),f=e.useRef(!1),{showModal:g}=w();return o((e,t)=>{if(g)return;if(!p.current)return;if(!f.current){const e=new j("#ff6ea8");p.current.traverse(t=>{if(t.isMesh){const r=t;(Array.isArray(r.material)?r.material:[r.material]).forEach(t=>{const r=t;r&&r.color&&(r.color=r.color.clone().lerp(e,.25),"emissive"in r&&(r.emissive.lerp(e,.3),r.emissiveIntensity=.1))})}}),f.current=!0}u.current+=t*l;const r=s-n,o=n+u.current,m=.3*Math.sin(2*e.clock.elapsedTime+.1*u.current);p.current.position.set(o,a+m,i),p.current.rotation.set(.01*Math.sin(1.5*e.clock.elapsedTime+.05*u.current),d,.02*Math.sin(.8*e.clock.elapsedTime+.08*u.current)),p.current.scale.setScalar(c);const h=.8*r;if(u.current>h){const e=(u.current-h)/(r-h),t=Math.max(0,1-e);p.current.traverse(e=>{if(e.isMesh&&e.material){const r=e;Array.isArray(r.material)?r.material.forEach(e=>{e.transparent=!0,e.opacity=t}):(r.material.transparent=!0,r.material.opacity=t)}});const n=.5+.5*t;p.current.scale.setScalar(c*n)}u.current>=r&&(p.current.visible=!1)}),t.jsxs("group",{ref:p,children:[t.jsxs("mesh",{position:[0,-.2,-1],renderOrder:-1,children:[t.jsx("circleGeometry",{args:[1.6,32]}),t.jsx("meshBasicMaterial",{ref:h,color:"#ff6ea8",transparent:!0,opacity:.22,depthWrite:!1})]}),t.jsx("pointLight",{color:16740008,intensity:1.2,distance:50,decay:2,position:[.8,.3,-.8]}),t.jsx("primitive",{object:m.clone()})]})}function $(){const r=e.useMemo(()=>[{startX:-250,endX:500,y:15,z:-25,speed:20,scale:1.5,rotationY:Math.PI}],[]);return t.jsx("group",{children:r.map((e,r)=>t.jsx(O,{startX:e.startX,endX:e.endX,y:e.y,z:e.z,speed:e.speed,scale:e.scale,rotationY:e.rotationY},r))})}function X(){const e=Object.assign({"/src/assets/jelly-elements/Teddy bear.png":"/planet-portfolio/assets/Teddy%20bear-BRk43tH8.png","/src/assets/jelly-elements/glossy-bird.png":"/planet-portfolio/assets/glossy-bird-DiNe8MBu.png","/src/assets/jelly-elements/glossy-bunny.png":"/planet-portfolio/assets/glossy-bunny-BQBWxPwK.png","/src/assets/jelly-elements/glossy-butterfly.png":"/planet-portfolio/assets/glossy-butterfly-BnmI7FzM.png","/src/assets/jelly-elements/glossy-flower.png":"/planet-portfolio/assets/glossy-flower-C7NBynTa.png","/src/assets/jelly-elements/glossy-horse.png":"/planet-portfolio/assets/glossy-horse-D1L1E0Sk.png","/src/assets/jelly-elements/glossy-palm.png":"/planet-portfolio/assets/glossy-palm-BquaxoCh.png"});return Object.values(e)}const W={};function G({showModal:r,selectedPoint:n,onClose:o}){const[s,a]=e.useState(!1),[i,l]=e.useState(!1),[c,d]=e.useState({}),[p,u]=e.useState(null),m=X(),h=e.useMemo(()=>m,[m.length]),f=e.useMemo(()=>n?function(e,t=2){return[...e].sort(()=>.5-Math.random()).slice(0,t)}(h,2):[],[n?.id,h]);if(e.useEffect(()=>{r&&f.length>0&&f.forEach(e=>{(new Image).src=e})},[r,f]),e.useEffect(()=>{r&&d({})},[n?.id]),!r||!n)return null;const g=W[n.id];return t.jsx("div",{className:"modal-overlay",onClick:o,style:{"--color-40":`${n.color}40`,"--color-20":`${n.color}20`,"--color-00":`${n.color}00`},children:t.jsxs("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[f.map((e,r)=>t.jsx("div",{className:"modal-jelly-decoration modal-jelly-"+(0===r?"left":"right"),style:{opacity:c[e]?1:0},children:t.jsx("img",{src:e,alt:"decoration",className:"modal-jelly-image",onError:e=>{const t=e.target.parentElement;t&&(t.style.display="none")},onLoad:()=>{d(t=>({...t,[e]:!0}))}})},`${n.id}-jelly-${r}`)),g&&!i?t.jsxs("div",{className:"modal__header-image",children:[t.jsx("img",{src:g,alt:n.title,className:"modal__title-image",onLoad:()=>{a(!0),l(!1)},onError:()=>{l(!0),a(!1)},style:{width:"280px",height:"auto",maxWidth:"90%",objectFit:"contain",marginBottom:"20px",filter:`drop-shadow(2px 2px 8px ${n.color}40)`,display:s?"block":"none"}}),!s&&!i&&t.jsx("div",{style:{width:"280px",height:"80px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f0f0f0",borderRadius:"10px",marginBottom:"20px",color:"#666"},children:"Loading..."})]}):t.jsx("div",{className:"modal__neon-title",children:t.jsx("div",{className:"neon-line neon-once",children:Array.from(n.title).map((e,r)=>t.jsx("span",{className:"neon-char neon-once",style:{"--d":.06*r+"s",fontWeight:800},children:" "===e?"Â ":e},r))})}),t.jsxs("div",{className:"modal__details",children:["about"===n.id&&t.jsxs("div",{children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Experience:"})," 2+ years"]}),t.jsx("p",{children:" â "}),t.jsxs("p",{children:[t.jsx("strong",{children:"Specialization:"})," Frontend and creative dev"]}),t.jsx("p",{children:" â "}),t.jsx("p",{children:"I'm interested in creative systems building/mastering a 2D/3D engine. My passion is good design and high functionality of the surrounding space."})]}),"skills"===n.id&&t.jsxs("div",{children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Frontend:"})," React, TypeScript, MobX, Jenkins, Storybook, Three.js, Phazer"]}),t.jsx("p",{children:" â "}),t.jsxs("p",{children:[t.jsx("strong",{children:"Backend:"})," Node.js, PostgreSQL"]})]}),"projects"===n.id&&t.jsx("div",{className:"projects-section",children:t.jsxs("div",{className:"projects-grid",children:[t.jsx("a",{href:"https://tmaltseva.github.io/progress-component/",target:"_blank",rel:"noopener noreferrer",className:"project-link",children:"Progress Component"}),t.jsx("a",{href:"https://tmaltseva.github.io/rick-and-morty-app/",target:"_blank",rel:"noopener noreferrer",className:"project-link",children:"Rick and Morty app"}),t.jsx("a",{href:"https://tmaltseva.github.io/routing-table/",target:"_blank",rel:"noopener noreferrer",className:"project-link",children:"Routing Table Manager"}),t.jsx("a",{href:"https://tmaltseva.github.io/breathing-meditation-3d/",target:"_blank",rel:"noopener noreferrer",className:"project-link",children:"Meditation Breathing"}),t.jsx("a",{href:"https://tmaltseva.github.io/todo-app/",target:"_blank",rel:"noopener noreferrer",className:"project-link",children:"ToDo App"}),t.jsx("a",{href:"https://rolling-scopes-school.github.io/tmaltseva-JSFE2024Q4/news-api/",target:"_blank",rel:"noopener noreferrer",className:"project-link",children:"News API"}),t.jsx("a",{href:"https://rolling-scopes-school.github.io/tmaltseva-JSFE2024Q4/decision-making-tool/",target:"_blank",rel:"noopener noreferrer",className:"project-link",children:"Decision Making Tool"}),t.jsx("a",{href:"https://rolling-scopes-school.github.io/tmaltseva-JSFE2024Q4/fun-chat/",target:"_blank",rel:"noopener noreferrer",className:"project-link",children:"Fun Chat"}),t.jsx("a",{href:"https://rolling-scopes-school.github.io/tmaltseva-JSFE2024Q4/simon-says/",target:"_blank",rel:"noopener noreferrer",className:"project-link",children:"Simon-says"}),t.jsx("a",{href:"https://rolling-scopes-school.github.io/tmaltseva-JSFE2024Q4/nonograms/",target:"_blank",rel:"noopener noreferrer",className:"project-link",children:"Nonograms"})]})}),"certificates"===n.id&&t.jsx("div",{className:"certificates-section",children:t.jsxs("div",{className:"certificates-grid",children:[t.jsx("a",{href:"https://app.rs.school/certificate/lgyer7oe",target:"_blank",rel:"noopener noreferrer",className:"contact-link",children:"JS/FE PRE-SCHOOL"}),t.jsx("a",{href:"https://app.rs.school/certificate/5e6oztda",target:"_blank",rel:"noopener noreferrer",className:"contact-link",children:"JAVASCRIPT/FRONT-END"})]})}),"contact"===n.id&&t.jsxs("div",{children:[t.jsx("p",{children:t.jsx("a",{href:"mailto:bacardeonie@gmail.com",className:"contact-link",children:t.jsx("strong",{children:"My email"})})}),t.jsx("p",{children:" â "}),t.jsx("p",{children:t.jsx("a",{href:"https://github.com/TMaltseva",target:"_blank",rel:"noopener noreferrer",className:"contact-link",children:t.jsx("strong",{children:"My GitHub"})})}),t.jsx("p",{children:" â "}),t.jsx("p",{children:t.jsx("a",{href:"https://linkedin.com/in/tamara-maltseva-364292179",target:"_blank",rel:"noopener noreferrer",className:"contact-link",children:t.jsx("strong",{children:"My LinkedIn"})})})]})]}),t.jsx("button",{className:"modal__button",onClick:o,children:"Continue"})]})})}function J(){const r=e.useRef(null),n=e.useRef(new f),{showModal:s}=w(),a=X(),i=e.useMemo(()=>a.map((e,t)=>{const r=12345*t;return{textureUrl:e,baseScale:y.lerp(6,12,(Math.sin(r)+1)/2),speed:0,x:y.lerp(-400,350,(Math.sin(1.1*r)+1)/2),y:y.lerp(-10,35,(Math.sin(1.3*r)+1)/2),z:y.lerp(-200,-80,(Math.sin(1.7*r)+1)/2),phase:(Math.sin(2.1*r)+1)/2*Math.PI*2,opacity:y.lerp(.9,1,(Math.sin(3.3*r)+1)/2)}}),[a.length]),l=e.useMemo(()=>i.map(e=>{const t=n.current.load(e.textureUrl);t.premultiplyAlpha=!0;const r=new g({map:t,depthWrite:!1,transparent:!0,opacity:e.opacity}),o=new x(r);return o.scale.setScalar(e.baseScale),o.position.set(e.x,e.y,e.z),o.userData={baseX:e.x,baseY:e.y,baseZ:e.z,baseScale:e.baseScale,phase:e.phase},o}),[i]);return e.useEffect(()=>{const e=r.current;if(e)return l.forEach(t=>e.add(t)),()=>{l.forEach(t=>e.remove(t))}},[l]),o(e=>{s||l.forEach(t=>{const r=t.userData,n=e.clock.elapsedTime+r.phase,o=1+.1*Math.sin(1.5*n);t.scale.setScalar(r.baseScale*o);const s=.5*Math.sin(.8*n),a=.3*Math.cos(1.2*n),i=.2*Math.sin(.5*n);t.position.set(r.baseX+s,r.baseY+a,r.baseZ+i),t.material.rotation=.1*Math.sin(.3*n)})}),t.jsx("group",{ref:r})}function Y({isMobile:n=!1}){const{scene:o}=r("models/scene.gltf"),s=e.useRef(null),a=n?[0,-5,0]:[20,5,0],i=n?.007:.01;return e.useEffect(()=>{s.current&&s.current.traverse(e=>{if(e.isMesh&&e.material){const t=e;if(Array.isArray(t.material))t.material=t.material.map(e=>{const t=e.clone();return t instanceof u?(t.color.multiplyScalar(1.5),t.color.setRGB(Math.min(1.1*t.color.r+.3,1),Math.min(.9*t.color.g+.2,1),Math.min(.8*t.color.b+.4,1)),t.roughness=.7,t.metalness=.1):t instanceof m&&t.color.setRGB(Math.min(1.1*t.color.r+.3,1),Math.min(.9*t.color.g+.2,1),Math.min(.8*t.color.b+.4,1)),t});else{const e=t.material.clone();e instanceof u?(e.color.multiplyScalar(1.2),e.color.setRGB(Math.min(1.1*e.color.r+.3,1),Math.min(.9*e.color.g+.2,1),Math.min(.8*e.color.b+.4,1)),e.roughness=.7,e.metalness=.1):e instanceof m&&e.color.setRGB(Math.min(1.1*e.color.r+.3,1),Math.min(.9*e.color.g+.2,1),Math.min(.8*e.color.b+.4,1)),t.material=e}}})},[o]),t.jsx("group",{ref:s,children:t.jsx("primitive",{object:o,scale:i,position:a})})}function Q({children:r,isMobile:s=!1}){const a=e.useRef(null),{gl:i}=n(),{showModal:l}=w(),c=s?{x:0,z:0}:{x:20,z:0},[d,p]=e.useState(!1),[u,m]=e.useState(new b),[h,f]=e.useState(0),g=e=>{"CANVAS"===e.target.tagName&&(p(!0),m(new b(e.clientX,e.clientY)),f(0),i.domElement.style.cursor="grabbing")},x=e=>{if(!d||!a.current)return;const t=new b(e.clientX,e.clientY),r=t.x-u.x,n=s?5e-4:3e-4;a.current.rotation.y+=r*n,f(r*n*.02),m(t)},j=()=>{p(!1),i.domElement.style.cursor=s?"default":"grab"},y=()=>{d||s||(i.domElement.style.cursor="grab")},v=()=>{p(!1),i.domElement.style.cursor="default"};return o(()=>{l||a.current&&(d||(!s&&Math.abs(h)<.001?a.current.rotation.y+=8e-4:(a.current.rotation.y+=h,f(e=>.95*e))))}),e.useEffect(()=>{const e=i.domElement;return e.addEventListener("pointerdown",g),e.addEventListener("pointermove",x),e.addEventListener("pointerup",j),s||(e.addEventListener("pointerenter",y),e.addEventListener("pointerleave",v)),()=>{e.removeEventListener("pointerdown",g),e.removeEventListener("pointermove",x),e.removeEventListener("pointerup",j),s||(e.removeEventListener("pointerenter",y),e.removeEventListener("pointerleave",v))}},[d,s]),t.jsx("group",{ref:a,position:[c.x,0,c.z],children:t.jsx("group",{position:[-c.x,0,-0],children:r})})}function H({text:e,className:r,weight:n=800,letterSpacingPx:o=1,delayOffsetSec:s=0}){const a=Array.from(e);return t.jsx("div",{className:"neon-line neon-once"+(r?` ${r}`:""),style:{fontWeight:n,letterSpacing:`${o}px`},children:a.map((e,r)=>{const n={"--d":`${s+.06*r}s`};return t.jsx("span",{className:"neon-char neon-once",style:n,children:" "===e?"Â ":e},r)})})}function K({text:e,className:r,delayOffsetSec:n=0,staggerSec:o=.06}){const s=Array.from(e);return t.jsx("div",{className:"appear-line"+(r?` ${r}`:""),children:s.map((e,r)=>{const s={"--d":`${n+r*o}s`};return t.jsx("span",{className:"appear-char appear-once",style:s,children:" "===e?"Â ":e},`${e}-${r}`)})})}const Z="_header_p1iyr_1",q="_header__panel_p1iyr_22",U="_header__title_p1iyr_40",V="_header__title--no-margin_p1iyr_52",ee="_header__subtitle_p1iyr_61",te="_header__image_p1iyr_68",re="_header__jelly-image_p1iyr_76",ne="_header__text-content_p1iyr_92",oe="_frosted-panel_p1iyr_104";function se(){const[r,n]=e.useState(!1),o=()=>{n(!r)};return t.jsx("div",{className:Z,children:t.jsx("div",{className:`${q} ${oe}`,children:r?t.jsxs("div",{className:ne,onClick:o,style:{cursor:"pointer"},children:[t.jsx("div",{className:U,children:t.jsx(H,{text:"Frontend Dev",weight:700,letterSpacingPx:1})}),t.jsx("div",{className:V,children:t.jsx(K,{text:"& 3D Enthusiast"})}),t.jsx("p",{className:ee,children:"Click on the city locations to explore my portfolio"})]}):t.jsx("div",{className:te,children:t.jsx("img",{src:"/planet-portfolio/assets/jelly-header-Xd8T_zK3.png",alt:"Hello, I'm Tommy!",className:re,onClick:o})})})})}function ae(){e.useEffect(()=>{r.preload("models/cloud.gltf"),r.preload("models/plane.gltf"),r.preload("models/scene.gltf")},[]);const{currentPointIndex:n,currentPoint:o,showModal:s,selectedPoint:a,handlePointClick:i,closeModal:d}=(t=>{const[r,n]=e.useState(0),[o,s]=e.useState(!1),[a,i]=e.useState(null);return{currentPointIndex:r,currentPoint:t[r],showModal:o,selectedPoint:a,handleNextPoint:()=>{n(e=>(e+1)%t.length)},handlePointClick:e=>{i(e),s(!0)},closeModal:()=>{s(!1),i(null)},selectPoint:e=>{n(e)}}})(z),[p,u]=e.useState(!1),[m,h]=e.useState(!1),{isMobile:f}=I();return t.jsxs("div",{className:"app-container",children:[t.jsx(T,{}),t.jsx(M,{showModal:s,children:t.jsxs(l,{camera:{position:[70,40,50],fov:50,near:.1,far:1e3},className:"app-canvas",children:[t.jsx("ambientLight",{intensity:.2}),t.jsx("directionalLight",{position:[50,50,25],intensity:.7,castShadow:!0,"shadow-mapSize-width":2048,"shadow-mapSize-height":2048}),t.jsx("pointLight",{position:[-20,20,20],intensity:.1}),t.jsx(c,{preset:"dawn",environmentIntensity:.8}),t.jsx(e.Suspense,{fallback:null,children:t.jsxs(Q,{isMobile:f,children:[t.jsx(S,{}),t.jsx(J,{}),t.jsx($,{}),t.jsx(Y,{isMobile:f}),z.map((e,r)=>t.jsx(D,{point:e,isActive:r===n,onClick:()=>i(e)},e.id))]})}),t.jsx(F,{currentPoint:o,onIntroComplete:u,onOrbitControlsReady:h})]})}),m&&!f&&t.jsxs("div",{className:"controls-panel",children:[t.jsx("div",{className:"controls-panel__title",children:"Controls:"}),t.jsx("div",{children:"ð±ï¸ Drag to rotate scene"}),t.jsx("div",{children:"ð Scroll to zoom"}),t.jsx("div",{children:"ð Click locations to learn more"})]}),t.jsx(se,{}),t.jsx(G,{showModal:s,selectedPoint:a,onClose:d}),t.jsx("div",{className:"copyright",children:"Â© 2025 All rights reserved"})]})}class ie extends d.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error:",e,t),console.group("Error Details:"),console.log("Error message:",e.message),console.log("Error stack:",e.stack),console.log("Component stack:",t.componentStack),console.groupEnd(),this.setState({error:e,errorInfo:t})}render(){return this.state.hasError?t.jsxs("div",{style:{color:"#545454",padding:"20px",textAlign:"center",backgroundColor:"#f8f8f8",border:"1px solid #ddd",borderRadius:"8px",margin:"20px"},children:[t.jsx("h2",{children:"Something went wrong"}),t.jsx("p",{children:"The application encountered an error and needs to be refreshed."}),t.jsxs("details",{style:{marginTop:"20px",textAlign:"left"},children:[t.jsx("summary",{children:"Error details (for debugging)"}),t.jsxs("pre",{style:{backgroundColor:"#f0f0f0",padding:"10px",overflow:"auto",fontSize:"12px"},children:[this.state.error?.message,"\n\n",this.state.error?.stack,"\n\n",this.state.errorInfo?.componentStack]})]}),t.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:"20px",padding:"10px 20px",backgroundColor:"#ff6ea8",color:"#ffffff",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Refresh Page"})]}):this.props.children}}p.createRoot(document.getElementById("root")).render(t.jsx(d.StrictMode,{children:t.jsx(ie,{children:t.jsx(ae,{})})}));
