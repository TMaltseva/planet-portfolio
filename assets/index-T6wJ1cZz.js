import{r as e,j as t,u as r,a as n,b as o,c as s,H as i,O as a,C as l,E as c,R as d,d as u}from"./r3f-DYn76HcB.js";import{aa as p,ab as m,h,K as f,aT as g,aU as x,e as j,ak as y,g as b}from"./three-DT-gpZR4.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const v=e.createContext(void 0);function w({children:e,showModal:r}){return t.jsx(v.Provider,{value:{showModal:r},children:e})}function M(){const t=e.useContext(v);if(void 0===t)throw new Error("useModalContext must be used within a ModalProvider");return t}function E({position:s,scale:i,rotationSpeed:a,floatSpeed:l}){const c=e.useRef(null),{scene:d}=r("models/cloud.gltf"),{camera:u}=n(),{showModal:f}=M();return e.useEffect(()=>{c.current&&c.current.traverse(e=>{if(e.isMesh&&e.material){const t=e;if(Array.isArray(t.material))t.material=t.material.map(e=>{const t=e.clone();return(t instanceof p||t instanceof m)&&(t.color.setRGB(1,.7,.85),t.transparent=!0,t.opacity=.8),t});else{const e=t.material.clone();(e instanceof p||e instanceof m)&&(e.color.setRGB(1,.7,.85),e.transparent=!0,e.opacity=.8),t.material=e}}})},[]),o(e=>{if(!f&&c.current){c.current.position.y=s[1]+2*Math.sin(e.clock.elapsedTime*l),c.current.position.x=s[0]+1*Math.cos(e.clock.elapsedTime*l*.5),c.current.rotation.y+=a,c.current.rotation.z+=.3*a;const t=new h;c.current.getWorldPosition(t);const r=t.clone();r.project(u);r.x<0?c.current.traverse(e=>{if(e.isMesh&&e.material){const t=e;if(Array.isArray(t.material))t.material.forEach(e=>{e instanceof p?(e.opacity=.6,e.roughness=1):e instanceof m&&(e.opacity=.6)});else{const e=t.material;e instanceof p?(e.opacity=.6,e.roughness=1):e instanceof m&&(e.opacity=.6)}}}):c.current.traverse(e=>{if(e.isMesh&&e.material){const t=e;if(Array.isArray(t.material))t.material.forEach(e=>{e instanceof p?(e.opacity=.8,e.roughness=.5):e instanceof m&&(e.opacity=.8)});else{const e=t.material;e instanceof p?(e.opacity=.8,e.roughness=.5):e instanceof m&&(e.opacity=.8)}}})}}),t.jsx("group",{ref:c,position:s,children:t.jsx("primitive",{object:d.clone(),scale:i})})}function S(){const r=e.useMemo(()=>{const e=[];for(let t=0;t<30;t++)e.push({position:[1e3*(Math.random()-.5)-50,-50*Math.random()-100,1e3*(Math.random()-.5)-50],scale:5+10*Math.random(),rotationSpeed:.005*(Math.random()-.5),floatSpeed:.3+.7*Math.random(),opacity:.3+.4*Math.random()});return e},[]);return t.jsx("group",{children:r.map((e,r)=>t.jsx(E,{position:e.position,scale:e.scale,rotationSpeed:e.rotationSpeed,floatSpeed:e.floatSpeed,opacity:e.opacity},r))})}const _="_overlay_1vrbj_1",k="_container_1vrbj_14",P="_dots_1vrbj_21",N="_dot_1vrbj_21",A="_progress_1vrbj_47",R="_visible_1vrbj_54",L="_hidden_1vrbj_59";function C(){const{active:r,progress:n}=s(),[o,i]=e.useState(!0),[a,l]=e.useState(!0);return e.useEffect(()=>{if(!r&&n>=100){l(!1);const e=setTimeout(()=>i(!1),400);return()=>clearTimeout(e)}},[r,n]),e.useEffect(()=>{(r||n<100)&&(i(!0),l(!0))},[r,n]),o?t.jsx("div",{role:"status","aria-live":"polite",className:`${_} ${a?R:L}`,children:t.jsxs("div",{className:k,children:[t.jsxs("div",{className:P,children:[t.jsx("span",{className:N}),t.jsx("span",{className:N}),t.jsx("span",{className:N})]}),t.jsxs("div",{className:A,children:[Math.round(n),"%"]})]})}):null}const T=()=>{const[t,r]=e.useState(!1);return e.useEffect(()=>{const e=()=>{r(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),{isMobile:t}};function D({point:r,isActive:s,onClick:a}){const l=e.useRef(null),{camera:c}=n(),[d,u]=e.useState(!1),[p,m]=e.useState(!1),j=e.useRef(null),y=e.useRef(null),{isMobile:b}=T(),{showModal:v}=M(),w=((e,t)=>t&&e.mobilePosition?e.mobilePosition:e.position)(r,b),E=e.useMemo(()=>{const e=(new f).load("point.png");e.premultiplyAlpha=!0;const t=new g({map:e,transparent:!0,alphaTest:.1,color:16761035,depthTest:!0,depthWrite:!1}),r=new x(t);return r.scale.setScalar(2),r.position.set(0,.8,0),r},[]);o(e=>{if(!v&&l.current&&E){const t=w[1],r=.3,n=s?2:1.5;l.current.position.y=t+Math.sin(e.clock.elapsedTime*n)*r,l.current.rotation.y+=.005;const o=s?1.3:1,i=d?1.4*o:o,a=l.current.scale.x,u=a+.05*(i-a);l.current.scale.setScalar(u),E.scale.set(3*u,2*u,1);const p=new h;l.current.getWorldPosition(p);const m=c.position.distanceTo(p),f=60,g=120;let x=1;if(m>f){const e=Math.min((m-f)/(g-f),1);x=Math.max(1-.7*e,.3)}E.material.opacity=x}});const S=()=>{null!==j.current&&(window.clearTimeout(j.current),j.current=null),u(!0),document.body.style.cursor="pointer"},_=()=>{null!==j.current&&(window.clearTimeout(j.current),j.current=null),j.current=window.setTimeout(()=>{u(!1),document.body.style.cursor="default",j.current=null},80)},k=e=>{b&&(e.stopPropagation(),null!==j.current&&(window.clearTimeout(j.current),j.current=null),null!==y.current&&(window.clearTimeout(y.current),y.current=null),m(!0),y.current=window.setTimeout(()=>{m(!1),y.current=null},3e3))};e.useEffect(()=>()=>{null!==j.current&&window.clearTimeout(j.current),null!==y.current&&window.clearTimeout(y.current)},[]);const P=(d||b&&p)&&!v;return t.jsxs("group",{ref:l,position:w,onClick:e=>{e.stopPropagation(),a()},onPointerOver:S,onPointerOut:_,onPointerDown:k,children:[t.jsxs("mesh",{onPointerOver:S,onPointerOut:_,onPointerDown:k,children:[t.jsx("sphereGeometry",{args:[1.25,16,16]}),t.jsx("meshBasicMaterial",{transparent:!0,opacity:0,depthWrite:!1})]}),t.jsx("primitive",{object:E}),t.jsxs("mesh",{position:[0,-.5,0],rotation:[-Math.PI/2,0,0],children:[t.jsx("ringGeometry",{args:[.5,.8,16]}),t.jsx("meshBasicMaterial",{color:r.color,transparent:!0,opacity:s||d?.6:.3,depthWrite:!1})]}),P&&t.jsx(i,{position:[0,4,0],center:!0,style:{pointerEvents:"none",userSelect:"none"},children:t.jsx("div",{className:"location-tooltip",children:t.jsx("div",{className:"tooltip-neon-text",children:Array.from(r.title).map((e,r)=>t.jsx("span",{className:"tooltip-neon-char",style:{"--d":"0s"},children:" "===e?"Â ":e},r))})})}),s&&t.jsx("pointLight",{position:[0,2,0],intensity:1.5,color:r.color,distance:8})]})}const I=[{id:"about",title:"About me",description:"Frontend dev 2+ years of experience",position:[20,12,1],mobilePosition:[0,0,1],cameraPosition:[30,20,30],color:"#8ba5ff"},{id:"skills",title:"Skills",description:"React, Node.js, TypeScript, Three.js",position:[11,10,0],mobilePosition:[-7,-2,0],cameraPosition:[-30,20,30],color:"#b8c5ff"},{id:"projects",title:"Projects",description:"My pet projects",position:[20,10,-8],mobilePosition:[0,-2,-6],cameraPosition:[30,20,-30],color:"#e6b3ff"},{id:"certificates",title:"Studies",description:"Proof of qualifications",position:[15,9,-5],mobilePosition:[-5,-3,-5],cameraPosition:[-30,20,-30],color:"#f9ca24"},{id:"contact",title:"Contacts",description:"Contact me",position:[10,7,-8],mobilePosition:[-7,-3,-8],cameraPosition:[0,25,25],color:"#ffc0cb"}];function z({onIntroComplete:r,onOrbitControlsReady:s}){const{camera:i}=n(),[l,c]=e.useState(!1),[d,u]=e.useState(!1),[p,m]=e.useState("intro"),f=e.useRef(null),g=e.useRef(null),x=e.useRef(null),j=4e3,y=new h(500,200,500),b=new h(40,25,40);return e.useEffect(()=>{i.position.copy(y),i.lookAt(20,0,0),f.current=Date.now()},[]),e.useEffect(()=>{r&&r(l)},[l,r]),e.useEffect(()=>{s&&s(d)},[d,s]),o((e,t)=>{if(!f.current)return;const r=Date.now()-f.current;if("intro"===p&&r<j){const e=r/j,t=e<.5?2*e*e:1-Math.pow(-2*e+2,3)/2,n=y.clone().lerp(b,t);return i.position.copy(n),void i.lookAt(0,0,0)}if("intro"===p&&r>=j)return m("settling"),g.current=Date.now(),void c(!0);if("settling"===p&&g.current){if(Date.now()-g.current<1e3){const e=new h(40,25,40);return i.position.lerp(e,2*t),void i.lookAt(0,0,0)}return m("controls"),u(!0),void(x.current&&(x.current.object.position.set(40,25,40),x.current.target.set(0,0,0),x.current.update()))}}),t.jsx(t.Fragment,{children:d&&t.jsx(a,{ref:x,target:[0,0,0],minDistance:50,maxDistance:120,minPolarAngle:.1*Math.PI,maxPolarAngle:.4*Math.PI,minAzimuthAngle:.25*-Math.PI,maxAzimuthAngle:.25*Math.PI,enablePan:!1,enableZoom:!0,enableDamping:!0,enableRotate:!0,dampingFactor:.1,rotateSpeed:-.5,zoomSpeed:.3,enabled:"controls"===p})})}function B({onIntroComplete:r,onOrbitControlsReady:s,isMobile:i=!1}){const{camera:l}=n(),[c,d]=e.useState(!1),[u,p]=e.useState(!1),[m,f]=e.useState("intro"),g=e.useRef(null),x=e.useRef(null),j=e.useRef(null),y=i?2500:4e3,b=i?500:1e3,v=i?new h(40,30,40):new h(500,200,500),w=i?new h(25,20,25):new h(40,25,40),M=[0,0,0];return e.useEffect(()=>{l.position.copy(v),l.lookAt(...M),g.current=Date.now()},[]),e.useEffect(()=>{r&&r(c)},[c,r]),e.useEffect(()=>{s&&s(u)},[u,s]),o((e,t)=>{if(!g.current)return;const r=Date.now()-g.current;if("intro"===m&&r<y){const e=r/y,t=e<.5?2*e*e:1-Math.pow(-2*e+2,3)/2,n=v.clone().lerp(w,t);return l.position.copy(n),void l.lookAt(...M)}if("intro"===m&&r>=y)return f("settling"),x.current=Date.now(),void d(!0);if("settling"===m&&x.current){return Date.now()-x.current<b?(l.position.lerp(w,2*t),void l.lookAt(...M)):(f("controls"),p(!0),void(j.current&&(j.current.object.position.copy(w),j.current.target.set(...M),j.current.update())))}}),t.jsx(t.Fragment,{children:u&&t.jsx(a,{ref:j,target:M,minDistance:i?15:50,maxDistance:i?60:120,minPolarAngle:i?.05*Math.PI:.1*Math.PI,maxPolarAngle:i?.6*Math.PI:.4*Math.PI,minAzimuthAngle:i?-1/0:.25*-Math.PI,maxAzimuthAngle:i?1/0:.25*Math.PI,enablePan:!1,enableZoom:!0,enableRotate:!0,enableDamping:!0,dampingFactor:i?.08:.1,rotateSpeed:i?.8:-.5,zoomSpeed:i?.5:.3,enabled:"controls"===m})})}function W(e){const{isMobile:r}=T();return r?t.jsx(B,{...e,isMobile:!0}):t.jsx(z,{...e})}function F({startX:n,endX:s,y:i,z:a,speed:l,scale:c,rotationY:d}){const u=e.useRef(null),p=e.useRef(0),{scene:m}=r("models/plane.gltf"),h=e.useRef(null),f=e.useRef(!1),{showModal:g}=M();return o((e,t)=>{if(g)return;if(!u.current)return;if(!f.current){const e=new j("#ff6ea8");u.current.traverse(t=>{if(t.isMesh){const r=t;(Array.isArray(r.material)?r.material:[r.material]).forEach(t=>{const r=t;r&&r.color&&(r.color=r.color.clone().lerp(e,.25),"emissive"in r&&(r.emissive.lerp(e,.3),r.emissiveIntensity=.1))})}}),f.current=!0}p.current+=t*l;const r=s-n,o=n+p.current,m=.3*Math.sin(2*e.clock.elapsedTime+.1*p.current);u.current.position.set(o,i+m,a),u.current.rotation.set(.01*Math.sin(1.5*e.clock.elapsedTime+.05*p.current),d,.02*Math.sin(.8*e.clock.elapsedTime+.08*p.current)),u.current.scale.setScalar(c);const h=.8*r;if(p.current>h){const e=(p.current-h)/(r-h),t=Math.max(0,1-e);u.current.traverse(e=>{if(e.isMesh&&e.material){const r=e;Array.isArray(r.material)?r.material.forEach(e=>{e.transparent=!0,e.opacity=t}):(r.material.transparent=!0,r.material.opacity=t)}});const n=.5+.5*t;u.current.scale.setScalar(c*n)}p.current>=r&&(u.current.visible=!1)}),t.jsxs("group",{ref:u,children:[t.jsxs("mesh",{position:[0,-.2,-1],renderOrder:-1,children:[t.jsx("circleGeometry",{args:[1.6,32]}),t.jsx("meshBasicMaterial",{ref:h,color:"#ff6ea8",transparent:!0,opacity:.22,depthWrite:!1})]}),t.jsx("pointLight",{color:16740008,intensity:1.2,distance:50,decay:2,position:[.8,.3,-.8]}),t.jsx("primitive",{object:m.clone()})]})}function O(){const{isMobile:r}=T(),n=e.useMemo(()=>[{startX:-250,endX:500,y:r?8:15,z:r?-15:-25,speed:20,scale:1.5,rotationY:Math.PI}],[]);return t.jsx("group",{children:n.map((e,r)=>t.jsx(F,{startX:e.startX,endX:e.endX,y:e.y,z:e.z,speed:e.speed,scale:e.scale,rotationY:e.rotationY},r))})}function G(){const e=Object.assign({"/src/assets/jelly-elements/Teddy bear.png":"/planet-portfolio/assets/Teddy%20bear-BRk43tH8.png","/src/assets/jelly-elements/glossy-bird.png":"/planet-portfolio/assets/glossy-bird-DiNe8MBu.png","/src/assets/jelly-elements/glossy-bunny.png":"/planet-portfolio/assets/glossy-bunny-BQBWxPwK.png","/src/assets/jelly-elements/glossy-butterfly.png":"/planet-portfolio/assets/glossy-butterfly-BnmI7FzM.png","/src/assets/jelly-elements/glossy-flower.png":"/planet-portfolio/assets/glossy-flower-C7NBynTa.png","/src/assets/jelly-elements/glossy-horse.png":"/planet-portfolio/assets/glossy-horse-D1L1E0Sk.png","/src/assets/jelly-elements/glossy-palm.png":"/planet-portfolio/assets/glossy-palm-BquaxoCh.png"});return Object.values(e)}const $={};function X({showModal:r,selectedPoint:n,onClose:o}){const[s,i]=e.useState(!1),[a,l]=e.useState(!1),[c,d]=e.useState({}),[u,p]=e.useState(null),m=G(),h=e.useMemo(()=>m,[m.length]),f=e.useMemo(()=>n?function(e,t=2){return[...e].sort(()=>.5-Math.random()).slice(0,t)}(h,2):[],[n?.id,h]);if(e.useEffect(()=>{r&&f.length>0&&f.forEach(e=>{(new Image).src=e})},[r,f]),e.useEffect(()=>{r&&d({})},[n?.id]),!r||!n)return null;const g=$[n.id];return t.jsx("div",{className:"modal-overlay",onClick:o,style:{"--color-40":`${n.color}40`,"--color-20":`${n.color}20`,"--color-00":`${n.color}00`},children:t.jsxs("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[f.map((e,r)=>t.jsx("div",{className:"modal-jelly-decoration modal-jelly-"+(0===r?"left":"right"),style:{opacity:c[e]?1:0},children:t.jsx("img",{src:e,alt:"decoration",className:"modal-jelly-image",onError:e=>{const t=e.target.parentElement;t&&(t.style.display="none")},onLoad:()=>{d(t=>({...t,[e]:!0}))}})},`${n.id}-jelly-${r}`)),g&&!a?t.jsxs("div",{className:"modal__header-image",children:[t.jsx("img",{src:g,alt:n.title,className:"modal__title-image",onLoad:()=>{i(!0),l(!1)},onError:()=>{l(!0),i(!1)},style:{width:"280px",height:"auto",maxWidth:"90%",objectFit:"contain",marginBottom:"20px",filter:`drop-shadow(2px 2px 8px ${n.color}40)`,display:s?"block":"none"}}),!s&&!a&&t.jsx("div",{style:{width:"280px",height:"80px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f0f0f0",borderRadius:"10px",marginBottom:"20px",color:"#666"},children:"Loading..."})]}):t.jsx("div",{className:"modal__neon-title",children:t.jsx("div",{className:"neon-line neon-once",children:Array.from(n.title).map((e,r)=>t.jsx("span",{className:"neon-char neon-once",style:{"--d":.06*r+"s",fontWeight:800},children:" "===e?"Â ":e},r))})}),t.jsxs("div",{className:"modal__details",children:["about"===n.id&&t.jsxs("div",{children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Experience:"})," 2+ years"]}),t.jsx("br",{}),t.jsxs("p",{children:[t.jsx("strong",{children:"Specialization:"})," Frontend and creative dev"]}),t.jsx("br",{}),t.jsx("p",{children:"I'm interested in creative systems building/mastering a 2D/3D engine. My passion is good design and high functionality of the surrounding space."})]}),"skills"===n.id&&t.jsxs("div",{children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Frontend:"})," React, TypeScript, MobX, Redux, Next.js"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Backend:"})," Node.js, PostgreSQL"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Creative dev:"})," Three.js, Pixi.js, Phaser"]})]}),"projects"===n.id&&t.jsx("div",{className:"projects-section",children:t.jsxs("div",{className:"projects-grid",children:[t.jsx("a",{href:"https://tmaltseva.github.io/progress-component/",target:"_blank",rel:"noopener noreferrer",className:"project-link",children:"Progress Component"}),t.jsx("a",{href:"https://tmaltseva.github.io/rick-and-morty-app/",target:"_blank",rel:"noopener noreferrer",className:"project-link",children:"Rick and Morty app"}),t.jsx("a",{href:"https://tmaltseva.github.io/routing-table/",target:"_blank",rel:"noopener noreferrer",className:"project-link",children:"Routing Table Manager"}),t.jsx("a",{href:"https://tmaltseva.github.io/breathing-meditation-3d/",target:"_blank",rel:"noopener noreferrer",className:"project-link",children:"Meditation Breathing"}),t.jsx("a",{href:"https://tmaltseva.github.io/todo-app/",target:"_blank",rel:"noopener noreferrer",className:"project-link",children:"ToDo App"}),t.jsx("a",{href:"https://rolling-scopes-school.github.io/tmaltseva-JSFE2024Q4/news-api/",target:"_blank",rel:"noopener noreferrer",className:"project-link",children:"News API"}),t.jsx("a",{href:"https://rolling-scopes-school.github.io/tmaltseva-JSFE2024Q4/decision-making-tool/",target:"_blank",rel:"noopener noreferrer",className:"project-link",children:"Decision Making Tool"}),t.jsx("a",{href:"https://rolling-scopes-school.github.io/tmaltseva-JSFE2024Q4/fun-chat/",target:"_blank",rel:"noopener noreferrer",className:"project-link",children:"Fun Chat"}),t.jsx("a",{href:"https://rolling-scopes-school.github.io/tmaltseva-JSFE2024Q4/simon-says/",target:"_blank",rel:"noopener noreferrer",className:"project-link",children:"Simon-says"}),t.jsx("a",{href:"https://rolling-scopes-school.github.io/tmaltseva-JSFE2024Q4/nonograms/",target:"_blank",rel:"noopener noreferrer",className:"project-link",children:"Nonograms"})]})}),"certificates"===n.id&&t.jsx("div",{className:"certificates-section",children:t.jsxs("div",{className:"certificates-grid",children:[t.jsx("a",{href:"https://app.rs.school/certificate/lgyer7oe",target:"_blank",rel:"noopener noreferrer",className:"contact-link",children:"JS/FE PRE-SCHOOL"}),t.jsx("a",{href:"https://app.rs.school/certificate/5e6oztda",target:"_blank",rel:"noopener noreferrer",className:"contact-link",children:"JAVASCRIPT/FRONT-END"})]})}),"contact"===n.id&&t.jsxs("div",{children:[t.jsx("p",{children:t.jsx("a",{href:"mailto:bacardeonie@gmail.com",className:"contact-link",children:t.jsx("strong",{children:"My email"})})}),t.jsx("br",{}),t.jsx("p",{children:t.jsx("a",{href:"https://github.com/TMaltseva",target:"_blank",rel:"noopener noreferrer",className:"contact-link",children:t.jsx("strong",{children:"My GitHub"})})}),t.jsx("br",{}),t.jsx("p",{children:t.jsx("a",{href:"https://linkedin.com/in/tamara-maltseva-364292179",target:"_blank",rel:"noopener noreferrer",className:"contact-link",children:t.jsx("strong",{children:"My LinkedIn"})})})]})]}),t.jsx("button",{className:"modal__button",onClick:o,children:"Continue"})]})})}function Y(){const r=e.useRef(null),n=e.useRef(new f),{showModal:s}=M(),[i,a]=e.useState([]),l=G(),c=e.useMemo(()=>{if(0===l.length)return[];const e=[];for(let t=0;t<15;t++){const r=t%l.length,n=l[r],o=12345*t;e.push({textureUrl:n,baseScale:y.lerp(6,12,(Math.sin(o)+1)/2),x:y.lerp(-400,350,(Math.sin(1.1*o)+1)/2),y:y.lerp(-10,35,(Math.sin(1.3*o)+1)/2),z:y.lerp(-200,-80,(Math.sin(1.7*o)+1)/2),phase:(Math.sin(2.1*o)+1)/2*Math.PI*2,opacity:y.lerp(.9,1,(Math.sin(3.3*o)+1)/2)})}return e},[l.length]);return e.useEffect(()=>{if(0===c.length)return;const e=new Map,t=[];let r=0;return c.forEach((o,s)=>{let i=e.get(o.textureUrl);i?r++:(i=n.current.load(o.textureUrl,()=>{r++,r===c.length&&a([...t])},void 0,e=>{r++,r===c.length&&a([...t])}),i.premultiplyAlpha=!0,e.set(o.textureUrl,i));const l=new g({map:i,depthWrite:!1,transparent:!0,opacity:o.opacity}),d=new x(l);d.scale.setScalar(o.baseScale),d.position.set(o.x,o.y,o.z),d.userData={baseX:o.x,baseY:o.y,baseZ:o.z,baseScale:o.baseScale,phase:o.phase},t[s]=d}),r===c.length&&a(t),()=>{t.forEach(e=>{e&&e.material&&(e.material.map&&e.material.map.dispose(),e.material.dispose())})}},[c]),e.useEffect(()=>{const e=r.current;if(e&&0!==i.length)return i.forEach(t=>{t&&e.add(t)}),()=>{i.forEach(t=>{t&&e&&e.remove(t)})}},[i]),o(e=>{s||0===i.length||i.forEach(t=>{if(!t||!t.userData)return;const r=t.userData,n=e.clock.elapsedTime+r.phase,o=1+.1*Math.sin(1.5*n);t.scale.setScalar(r.baseScale*o);const s=.5*Math.sin(.8*n),i=.3*Math.cos(1.2*n),a=.2*Math.sin(.5*n);t.position.set(r.baseX+s,r.baseY+i,r.baseZ+a),t.material.rotation=.1*Math.sin(.3*n)})}),t.jsx("group",{ref:r})}function J({isMobile:n=!1}){const{scene:o}=r("models/scene.gltf"),s=e.useRef(null),[i,a]=e.useState(!1);e.useEffect(()=>{if(!n)return;const e=()=>{a(window.innerWidth>window.innerHeight)};return e(),window.addEventListener("resize",e),window.addEventListener("orientationchange",e),()=>{window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e)}},[n]),e.useEffect(()=>{s.current&&s.current.traverse(e=>{if(e.isMesh&&e.material){const t=e;if(Array.isArray(t.material))t.material=t.material.map(e=>{const t=e.clone();return t instanceof p?(t.color.multiplyScalar(1.5),t.color.setRGB(Math.min(1.1*t.color.r+.3,1),Math.min(.9*t.color.g+.2,1),Math.min(.8*t.color.b+.4,1)),t.roughness=.7,t.metalness=.1):t instanceof m&&t.color.setRGB(Math.min(1.1*t.color.r+.3,1),Math.min(.9*t.color.g+.2,1),Math.min(.8*t.color.b+.4,1)),t});else{const e=t.material.clone();e instanceof p?(e.color.multiplyScalar(1.2),e.color.setRGB(Math.min(1.1*e.color.r+.3,1),Math.min(.9*e.color.g+.2,1),Math.min(.8*e.color.b+.4,1)),e.roughness=.7,e.metalness=.1):e instanceof m&&e.color.setRGB(Math.min(1.1*e.color.r+.3,1),Math.min(.9*e.color.g+.2,1),Math.min(.8*e.color.b+.4,1)),t.material=e}}})},[o]);const l=n&&!i?[0,-5,0]:n&&i?[0,-10,0]:[20,5,0],c=n?.007:.01;return t.jsx("group",{ref:s,children:t.jsx("primitive",{object:o,scale:c,position:l})})}function Q({children:r,isMobile:s=!1}){const i=e.useRef(null),{gl:a}=n(),{showModal:l}=M(),c=s?{x:0,z:0}:{x:20,z:0},[d,u]=e.useState(!1),[p,m]=e.useState(new b),[h,f]=e.useState(0),g=e=>{"CANVAS"===e.target.tagName&&(u(!0),m(new b(e.clientX,e.clientY)),f(0),a.domElement.style.cursor="grabbing")},x=e=>{if(!d||!i.current)return;const t=new b(e.clientX,e.clientY),r=t.x-p.x,n=s?5e-4:3e-4;i.current.rotation.y+=r*n,f(r*n*.02),m(t)},j=()=>{u(!1),a.domElement.style.cursor=s?"default":"grab"},y=()=>{d||s||(a.domElement.style.cursor="grab")},v=()=>{u(!1),a.domElement.style.cursor="default"};return o(()=>{l||i.current&&(d||(!s&&Math.abs(h)<.001?i.current.rotation.y+=8e-4:(i.current.rotation.y+=h,f(e=>.95*e))))}),e.useEffect(()=>{const e=a.domElement;return e.addEventListener("pointerdown",g),e.addEventListener("pointermove",x),e.addEventListener("pointerup",j),s||(e.addEventListener("pointerenter",y),e.addEventListener("pointerleave",v)),()=>{e.removeEventListener("pointerdown",g),e.removeEventListener("pointermove",x),e.removeEventListener("pointerup",j),s||(e.removeEventListener("pointerenter",y),e.removeEventListener("pointerleave",v))}},[d,s]),t.jsx("group",{ref:i,position:[c.x,0,c.z],children:t.jsx("group",{position:[-c.x,0,-0],children:r})})}function H({text:e,className:r,weight:n=800,letterSpacingPx:o=1,delayOffsetSec:s=0}){const i=Array.from(e);return t.jsx("div",{className:"neon-line neon-once"+(r?` ${r}`:""),style:{fontWeight:n,letterSpacing:`${o}px`},children:i.map((e,r)=>{const n={"--d":`${s+.06*r}s`};return t.jsx("span",{className:"neon-char neon-once",style:n,children:" "===e?"Â ":e},r)})})}function U({text:e,className:r,delayOffsetSec:n=0,staggerSec:o=.06}){const s=Array.from(e);return t.jsx("div",{className:"appear-line"+(r?` ${r}`:""),children:s.map((e,r)=>{const s={"--d":`${n+r*o}s`};return t.jsx("span",{className:"appear-char appear-once",style:s,children:" "===e?"Â ":e},`${e}-${r}`)})})}const Z="_header_p1iyr_1",K="_header__panel_p1iyr_22",q="_header__title_p1iyr_40",V="_header__title--no-margin_p1iyr_52",ee="_header__subtitle_p1iyr_61",te="_header__image_p1iyr_68",re="_header__jelly-image_p1iyr_76",ne="_header__text-content_p1iyr_92",oe="_frosted-panel_p1iyr_104";function se(){const[r,n]=e.useState(!1),o=()=>{n(!r)};return t.jsx("div",{className:Z,children:t.jsx("div",{className:`${K} ${oe}`,children:r?t.jsxs("div",{className:ne,onClick:o,style:{cursor:"pointer"},children:[t.jsx("div",{className:q,children:t.jsx(H,{text:"Frontend Dev",weight:700,letterSpacingPx:1})}),t.jsx("div",{className:V,children:t.jsx(U,{text:"& 3D Enthusiast"})}),t.jsx("p",{className:ee,children:"Click on the city locations to explore my portfolio"})]}):t.jsx("div",{className:te,children:t.jsx("img",{src:"/planet-portfolio/assets/jelly-header-Xd8T_zK3.png",alt:"Hello, I'm Tommy!",className:re,onClick:o})})})})}function ie({capabilities:e}){return e.supportsWebGL?null:t.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,background:"#e6b3ff",color:"white",padding:"16px",textAlign:"center",zIndex:9999,fontFamily:"Arial, sans-serif"},children:[t.jsx("h3",{style:{margin:"0 0 8px 0"},children:"Attention: Limited compatibility"}),t.jsx("p",{style:{margin:0},children:"Your browser does not support WebGL. Some functions may not work correctly. We recommend updating your browser or using Chrome/Firefox."})]})}function ae(){e.useEffect(()=>{r.preload("models/cloud.gltf"),r.preload("models/plane.gltf"),r.preload("models/scene.gltf")},[]);const{currentPointIndex:n,currentPoint:o,showModal:s,selectedPoint:i,handlePointClick:a,closeModal:d}=(t=>{const[r,n]=e.useState(0),[o,s]=e.useState(!1),[i,a]=e.useState(null);return{currentPointIndex:r,currentPoint:t[r],showModal:o,selectedPoint:i,handleNextPoint:()=>{n(e=>(e+1)%t.length)},handlePointClick:e=>{a(e),s(!0)},closeModal:()=>{s(!1),a(null)},selectPoint:e=>{n(e)}}})(I),[u,p]=e.useState(!1),[m,h]=e.useState(!1),{isMobile:f}=T(),g=function(){const[t,r]=e.useState({supportsWebGL:!1,supportsWebGL2:!1,deviceMemory:4,hardwareConcurrency:4,maxTextureSize:1024,isLowEndDevice:!1,shouldReduceAnimations:!1,prefersReducedMotion:!1});return e.useEffect(()=>{(()=>{const e=document.createElement("canvas"),t=e.getContext("webgl"),n=e.getContext("webgl2");let o=1024;t&&(o=t.getParameter(t.MAX_TEXTURE_SIZE));const s=navigator.deviceMemory??4,i=navigator.hardwareConcurrency??4,a=window.matchMedia("(prefers-reduced-motion: reduce)").matches,l=!t||a,c=l||a;r({supportsWebGL:!!t,supportsWebGL2:!!n,deviceMemory:s,hardwareConcurrency:i,maxTextureSize:o,isLowEndDevice:l,shouldReduceAnimations:c,prefersReducedMotion:a}),console.log("Device capabilities:",{supportsWebGL:!!t,supportsWebGL2:!!n,deviceMemory:s,hardwareConcurrency:i,maxTextureSize:o,isLowEndDevice:l,shouldReduceAnimations:c,prefersReducedMotion:a}),e.remove()})();const e=window.matchMedia("(prefers-reduced-motion: reduce)"),t=e=>{r(t=>({...t,prefersReducedMotion:e.matches,shouldReduceAnimations:t.isLowEndDevice||e.matches}))};return e.addEventListener("change",t),()=>e.removeEventListener("change",t)},[]),t}(),x=g.isLowEndDevice?1:Math.min(window.devicePixelRatio,2),j=!g.shouldReduceAnimations,y=!g.isLowEndDevice,b=!g.shouldReduceAnimations;return t.jsxs("div",{className:"app-container",children:[t.jsx(ie,{capabilities:g}),t.jsx(C,{}),t.jsx(w,{showModal:s,children:t.jsxs(l,{camera:{position:[70,40,50],fov:50,near:.1,far:1e3},className:"app-canvas",dpr:x,performance:{min:g.isLowEndDevice?.2:.5},children:[t.jsx("ambientLight",{intensity:.2}),t.jsx("directionalLight",{position:[50,50,25],intensity:.7,castShadow:!g.isLowEndDevice,"shadow-mapSize-width":g.isLowEndDevice?1024:2048,"shadow-mapSize-height":g.isLowEndDevice?1024:2048}),t.jsx("pointLight",{position:[-20,20,20],intensity:.1}),t.jsx(c,{preset:"dawn",environmentIntensity:g.isLowEndDevice?.5:.8}),t.jsx(e.Suspense,{fallback:null,children:t.jsxs(Q,{isMobile:f,children:[j&&t.jsx(S,{}),y&&t.jsx(Y,{}),b&&t.jsx(O,{}),t.jsx(J,{isMobile:f}),I.map((e,r)=>t.jsx(D,{point:e,isActive:r===n,onClick:()=>a(e)},e.id))]})}),t.jsx(W,{currentPoint:o,onIntroComplete:p,onOrbitControlsReady:h})]})}),m&&!f&&t.jsxs("div",{className:"controls-panel",children:[t.jsx("div",{className:"controls-panel__title",children:"Controls:"}),t.jsx("div",{children:"ðŸ–±ï¸ Drag to rotate scene"}),t.jsx("div",{children:"ðŸ” Scroll to zoom"}),t.jsx("div",{children:"ðŸ‘† Click locations to learn more"})]}),t.jsx(se,{}),t.jsx(X,{showModal:s,selectedPoint:i,onClose:d}),t.jsx("div",{className:"copyright",children:"Â© 2025 All rights reserved"})]})}class le extends d.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error:",e,t),this.setState({error:e,errorInfo:t})}render(){return this.state.hasError?t.jsxs("div",{style:{color:"#545454",padding:"20px",textAlign:"center",backgroundColor:"#f8f8f8",border:"1px solid #ddd",borderRadius:"8px",margin:"20px"},children:[t.jsx("h2",{children:"Something went wrong"}),t.jsx("p",{children:"The application encountered an error and needs to be refreshed."}),t.jsxs("details",{style:{marginTop:"20px",textAlign:"left"},children:[t.jsx("summary",{children:"Error details (for debugging)"}),t.jsxs("pre",{style:{backgroundColor:"#f0f0f0",padding:"10px",overflow:"auto",fontSize:"12px"},children:[this.state.error?.message,"\n\n",this.state.error?.stack,"\n\n",this.state.errorInfo?.componentStack]})]}),t.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:"20px",padding:"10px 20px",backgroundColor:"#ff6ea8",color:"#ffffff",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Refresh Page"})]}):this.props.children}}u.createRoot(document.getElementById("root")).render(t.jsx(d.StrictMode,{children:t.jsx(le,{children:t.jsx(ae,{})})}));
